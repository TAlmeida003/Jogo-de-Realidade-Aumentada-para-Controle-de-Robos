#include <stdio.h>
#include "system.h"
#include <alt_types.h>

#define MEMORIA_BASE 0x03000 // Defina o endere�o base da mem�ria
#define REG_DATA_OFFSET 0
#define A 1
int main() {
    volatile  int *p_led = ( int *) MEMORIA_BASE;


    volatile int valor = *(p_led + REG_DATA_OFFSET);
 //   usleep(A);
    int num = 0;
    printf("init \n");

    while(1){
    	valor = *(p_led + REG_DATA_OFFSET);
    	if (valor != 0){
    		if ((valor & 1) == 1)
    			num = 0;
    		else if (valor & 2 == 1)
    			num = 1;
    		else if (valor & 4 == 1)
    			num = 2;
    		else if (valor & 8 == 1)
    		    num = 3;
    		else if (valor & 16 == 1)
    		     num = 4;
    		else if (valor & 32 == 1)
    		     num = 5;
    		else if (valor & 64 == 1)
    		    num = 6;
    		else if (valor & 128 == 1)
    		     num = 7;
    		printf("Botao foi precionado %u\n", num);
    		*(p_led + REG_DATA_OFFSET) = 1;
    	}
    }
    return 0;
}
