#include <stdio.h>
#include "system.h"
#include <alt_types.h>

#define MEMORIA_BASE 0x03000 // Defina o endereço base da memória
#define REG_DATA_OFFSET 0
#define A 1
int main() {
    unsigned int *p_led = (unsigned int *) MEMORIA_BASE;
    printf("init \n");


    *(p_led + 0) = 54;
    usleep(A)
    unsigned int valor = *(p_led + REG_DATA_OFFSET);
    printf("Valor lido da reg0: %d\n", valor); // 0

    *(p_led + 1) = 1;
    usleep(A);
    valor = *(p_led + REG_DATA_OFFSET);
    printf("Valor lido da reg0: %d\n", valor); // 255

    *(p_led + 1) = 15;
    usleep(A);
    valor = *(p_led + REG_DATA_OFFSET);
    printf("Valor lido da reg0: %d\n", valor); // Imprime o valor lido


    *(p_led + 1) = 31;
    usleep(A);
    valor = *(p_led + REG_DATA_OFFSET);
    printf("Valor lido da reg0: %d\n", valor); // Imprime o valor lido

    *(p_led + 1) = 63;
    usleep(A);
    valor = *(p_led + REG_DATA_OFFSET);
    printf("Valor lido da reg0: %d\n", valor); // Imprime o valor lido

    *(p_led + 1) = 127;
    usleep(A);
    valor = *(p_led + REG_DATA_OFFSET);
    printf("Valor lido da reg0: %d\n", valor); // Imprime o valor lido

    *(p_led + 1) = 255;
    usleep(A);
    valor = *(p_led + REG_DATA_OFFSET);
    printf("Valor lido da reg0: %d\n", valor); // Imprime o valor lido

    *(p_led + 1) = 511;
    usleep(A);
     valor = *(p_led + REG_DATA_OFFSET);
     printf("Valor lido da reg0: %d\n", valor); // Imprime o valor lido

     *(p_led + 1) = 1023;
     usleep(A);
     valor = *(p_led + REG_DATA_OFFSET);
     printf("Valor lido da reg0: %d\n", valor); // Imprime o valor lido

      *(p_led + 1) = 2047;
      usleep(A);
      valor = *(p_led + REG_DATA_OFFSET);
      printf("Valor lido da reg0: %d\n", valor); // Imprime o valor lido

    while(1);
    return 0;
}
