#include <stdio.h>
#include "system.h"
#include <alt_types.h>

#define MEMORIA_BASE 0x03000 // Defina o endereço base da memória
#define REG_DATA_OFFSET 0

int main() {
    unsigned int *p_led = (unsigned int *) MEMORIA_BASE;
    printf("init \n");

    *(p_led + 1) = 0;
    unsigned int valor = *(p_led + REG_DATA_OFFSET);
    printf("Valor lido da reg0: %d\n", valor);

    *(p_led + 1) = 1;
    valor = *(p_led + REG_DATA_OFFSET);
    usleep(5000000);
    usleep(5000000);
    usleep(5000000);
    usleep(5000000);
    printf("Valor lido da reg0: %d\n", valor); // 255
/*
    *(p_led + 1) = 15;
    valor = *(p_led + REG_DATA_OFFSET);
    printf("Valor lido da reg0: %d\n", valor); // Imprime o valor lido


    *(p_led + 1) = 31;
    valor = *(p_led + REG_DATA_OFFSET);
    printf("Valor lido da reg0: %d\n", valor); // Imprime o valor lido

    *(p_led + 1) = 63;
    valor = *(p_led + REG_DATA_OFFSET);
    printf("Valor lido da reg0: %d\n", valor); // Imprime o valor lido

    *(p_led + 1) = 127;
    valor = *(p_led + REG_DATA_OFFSET);
    printf("Valor lido da reg0: %d\n", valor); // Imprime o valor lido

    *(p_led + 1) = 255;
    valor = *(p_led + REG_DATA_OFFSET);
    printf("Valor lido da reg0: %d\n", valor); // Imprime o valor lido

    *(p_led + 1) = 511;
     valor = *(p_led + REG_DATA_OFFSET);
     printf("Valor lido da reg0: %d\n", valor); // Imprime o valor lido

     *(p_led + 1) = 1023;
     valor = *(p_led + REG_DATA_OFFSET);
     printf("Valor lido da reg0: %d\n", valor); // Imprime o valor lido

      *(p_led + 1) = 2047;
      valor = *(p_led + REG_DATA_OFFSET);
      printf("Valor lido da reg0: %d\n", valor); // Imprime o valor lido
*/
    while(1);
    return 0;
}
